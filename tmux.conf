#set-option -g default-command "reattach-to-user-namespace -l zsh"

unbind C-b
set -g prefix C-f
setw -g xterm-keys on

set -g set-titles on
set -g set-titles-string '#T'


set -sg escape-time 1
setw -g alternate-screen on

#set -g default-terminal "screen-256color"
set -g default-terminal "xterm-256color"
set -g history-limit 50000
set -g terminal-overrides 'screen*:smcup@rmcup@'
set -g terminal-overrides 'xterm*:smcup@rmcup@'
#set -g terminal-overrides 'xterm:smcup@:rmcup@'

# bind -n means no prefix needed
bind -n F5 source ~/.tmux.conf
#unbind l
unbind Space
bind Space choose-window
unbind BSpace
bind BSpace previous-window
unbind p
bind p previous-window
unbind Tab
bind Tab last-window

#bind Tab switch-client -t:.+
#bind ^Tab switch-client -t:.-

# disable mouse support (at least while we're learning)
#setw -g mode-mouse off
#set -g mouse-select-pane off
#set -g mouse-resize-pane off
#set -g mouse-select-window off

set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on
#setw -g mode-mouse off # on makes cmd-c copy fail on osx
# works fine if you hold alt though

# start first window and pane at 1, not zero
set -g base-index 1
set -g pane-base-index 1

bind 1 select-window -t 1
bind 2 select-window -t 2
bind 3 select-window -t 3
bind 4 select-window -t 4
bind 5 select-window -t 5
bind 6 select-window -t 6
bind 7 select-window -t 7
bind 8 select-window -t 8
bind 9 select-window -t 9
bind 0 select-window -t 10

# Toggle mouse on with prefix-m
bind m \
  set -g mode-mouse on \;\
  set -g mouse-resize-pane on \;\
  set -g mouse-select-pane on \;\
  set -g mouse-select-window on \;\
  display 'Mouse: ON'

# Toggle mouse off with prefix-M
# Hold alt in iTerm2 to do this
bind M \
  set -g mode-mouse off \;\
  set -g mouse-resize-pane off \;\
  set -g mouse-select-pane off \;\
  set -g mouse-select-window off \;\
  display 'Mouse: OFF'

unbind Z
bind Z \
  new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \;\
  swap-pane -s tmux-zoom.0 \;\
  select-window -t tmux-zoom

unbind z
bind z \
  last-window \;\
  swap-pane -s tmux-zoom.0 \;\
  kill-window -t tmux-zoom

# pass through a ctrl-a if you press it twice
bind C-f send-prefix

# # better mnemonics for splitting panes!
bind | split-window -h
bind - split-window -v

# vim / xmonad style bindings for pane movement
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# vim / xmonad style bindings for window movement
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# shift-movement keys will resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# navigate using vim-style keys
setw -g mode-keys vi

# copy/paste using vim-style keys
bind Escape copy-mode
unbind p
bind p paste-buffer
bind -t vi-copy 'v' begin-selection
bind -t vi-copy 'y' copy-selection

#set -g default-terminal "screen-256color"
#set -g default-terminal screen-256color
#set-option -g status-position top
source ~/.tmux/themes/solarized/tmuxcolors-256.conf
#source ~/.tmux/themes/solarized/tmuxcolors-dark.conf
# Set window notifications
setw -g monitor-activity on
set -g visual-activity on
setw -g automatic-rename

set-option -g status on
set-option -g status-interval 2
set-option -g status-utf8 on
set-option -g status-justify "left"
set-option -g status-left-length 30
set-option -g status-right-length 30
#set-option -g status-left "#(~/.tmux/powerline.sh left)"
#set-option -g status-right "#(~/.tmux/powerline.sh right)"

# tmux-powerline old
#set-option -g status on
#set-option -g status-position top
#set-option -g status-position bottom
#set-option -g status-interval 2
#set-option -g status-utf8 on
#set-option -g status-justify "centre"
#set-option -g status-left-length 30
#set-option -g status-right-length 30
#set-option -g status-left "#(~/.tmux/powerline.sh left)"
#set-option -g status-right "#(~/.tmux/powerline.sh right)"
#set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"



# old status 1
#set -g status off
#set -g set-titles on
#set -g set-titles-string '#T'
#set -g status-bg colour234
#set -g status-fg white
#set -g status-left-length 50
#set -g status-left '#[fg=green]#h[#S:#I:#P]'
#set -g status-right '#[fg=green]#(pwd)'
#set -g status-right ''
#setw -g window-status-format '#[fg=red]|#[fg=green]#(whoami):#(pwd) #F#[fg=red]|'
#setw -g window-status-current-format '|#(whoami):#(pwd) #F|'
#setw -g window-status-current-bg red
#set -g status-left '#[fg=green]#(whoami)@#h'
#set -g status-right ''
#set -g status-right ' #[fg=green]#T [#(tput cols)x#(tput lines)]'

# My old status line
#set -g status-left-length 50
#set -g status-right-length 451
##set -g status-fg white
##set -g status-bg colour234
#set -g window-status-activity-attr bold
#set -g pane-border-fg colour232
#set -g pane-active-border-fg colour232
##set -g message-fg colour16
##set -g message-bg colour221
##set -g message-attr bold

#set -g status-left '#[fg=colour235,bg=colour246,bold] ❐ #S:#I:#P #[fg=colour235,bg=colour244,nobold]⮀#[fg=colour235,bg=colour244,bold] #(whoami)@#h #[fg=colour238,bg=colour234,nobold]⮀'
#set -g status-left '#[fg=colour235,bg=colour246]#h #[fg=colour235,bg=colour246,bold]❐ #S:#I:#P '
#set -g status-left '#[fg=green,bg=colour232,bold]#h #[nobold]❐ #S:#I:#P #[fg=color232,bg=color234]⮀'

# old status line powerline attempt
#set -g status-left '#[fg=green,bg=colour232,bold]#h #[nobold]❐ #S:#I:#P'
#set -g window-status-format "#[fg=colour221,bg=colour232]⮀#[fg=white,bg=colour232,bold] #I ⮁ #W "
##set -g window-status-current-format "#[fg=colour234,bg=colour39]⮀#[fg=colour25,bg=colour39,noreverse,bold] #I ⮁ #W #[fg=colour39,bg=colour234,nobold]⮀"
#set -g window-status-current-format "#[fg=colour221,bg=red]⮀#[fg=colour232,bg=red,noreverse,bold] #I ⮁ #W #[fg=colour232,bg=colour232,nobold]⮀"


